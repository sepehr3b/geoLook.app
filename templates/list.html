<ion-view view-title="Near You" >
  <ion-content ng-controller="ListCtrl" class="w3-khaki">

    <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">
    </ion-refresher>

    <div class="bar bar-header item-input-inset w3-khaki">
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input type="search" placeholder="Search" ng-model="query">
      </label>
    </div>


    <div class="w3-row-padding w3-center w3-margin-top w3-khaki">
      <div class="w3-third " ng-repeat="x in data | filter:query" style="min-height:230px">

          <header class="w3-container w3-green" >
            <h3>{{x.name}}</h3>
          </header>


          <div class="w3-container w3-indigo" >
            <p>{{x.location.address}}</p>
            <p>Cross-Street: {{x.location.crossStreet}}</p>
          </div>

        <div class="w3-container w3-cyan" >
          <p>Distance: {{x.location.distance}} m</p>
        </div>




        <footer class="w3-container w3-deep-orange" >
            <p>{{x.contact.phone}}</p>
          </footer>

        <button class="w3-btn-block w3-yellow" ng-click="openModal(x.location.lat,x.location.lng)"><i class="fa fa-map-marker"></i> go to</button>

      </div>
    </div>



    <script id="my-modal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar class="bar bar-header bar-dark">
          <h1 class="title">Map</h1>
          <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
        </ion-header-bar>
        <ion-content class="padding">
          <div id="mapid" style="position: relative">
            <i class="fa fa-arrows" aria-hidden="true" style="position: absolute;left: 0; top: 50%;width: 100%;text-align: center;font-size: 30px;z-index: 99"></i>
          </div>
        </ion-content>
      </ion-modal-view>
    </script>


  </ion-content>
</ion-view>
